# == Synopsis
# <%= SYNOPSIS %>
#
# == Parameters
#
# [*ensure*]
#  Use this to specify whether the define's resources should be applied or
#  removed.
#
# == Examples
#
#   class {
#      <%= KLASS_NAME %> {
#         "foo":
#            ensure => "present";
#      }
#   }
#
# == Authors
#
# <%= AUTHOR %>
#
# == Copyright
#
# Copyright <%= Time.now.year %> <%= COPYRIGHT %>
#
# == License
# Licensed under <%= LICENSE %>
#
class <%= KLASS_NAME %> (
   $ensure = "present"
) {
   # Parameter Validation
   $supported_minimum_os_versions   = { "CentOS" => 5, "Ubuntu" => 10.04 }
   $supported_operatingsystems      = [ "CentOS", "Ubuntu" ]
   $valid_ensure_values             = [ "present", "absent" ]

   if ! ($operatingsystem in $supported_operatingsystems) {
      fail "Your OS ($operatingsystem) is not supported by this code!"
   }

   if ($operatingsystemrelease < $supported_minimum_os_versions[$operatingsystem] ) {
      fail "You need at least version $supported_minimum_os_versions[$operatingsystem] to use this code."
   }

   if ! ($ensure in $valid_ensure_values) {
      fail "Invalid ensure value for <%= KLASS_NAME %> defined resource, valid values are $valid_ensure_values"
   }
}
  
<%= VIM_MODELINE %>
